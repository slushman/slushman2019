(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{612:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={errors:{controlled:"A component is changing a react-medium-image-zoom component from a controlled component to an uncontrolled one. ImageZoom elements should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled image zoom element for the lifetime of the component.",uncontrolled:"A component is changing a react-medium-image-zoom component from an uncontrolled component to a controlled one. ImageZoom elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled image zoom element for the lifetime of the component."},styles:{image:{cursor:"zoom-in"},zoomImage:{cursor:"zoom-out",position:"absolute",transition:"transform 300ms",transform:"translate3d(0, 0, 0) scale(1)",transformOrigin:"center center",willChange:"transform, top, left"},zoomContainer:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:999},overlay:{position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:"#fff",opacity:0,transition:"opacity 300ms"}},transitionDuration:300};t.default=n},613:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createPortalContainer=function(e){var t=document.createElement(e);return document.body.appendChild(t),t},t.removePortalContainer=function(e){document.body.removeChild(e)},t.fetchImage=function(e,t){var o=e.src,n=e.srcSet,r=e.sizes,i=new Image;i.addEventListener("load",function e(){t(i),i.removeEventListener("load",e)}),i.src=o,n&&(i.srcset=n),r&&(i.sizes=r)};var n=t.getScale=function(e){var t=e.width,o=e.height,n=e.zoomMargin,r=window.innerWidth/(t+n),i=window.innerHeight/(o+n);return Math.min(r,i)};t.getMaxDimensionScale=function(e){var t=e.width,o=e.height,r=e.naturalWidth,i=e.naturalHeight,a=e.zoomMargin,s=n({width:r,height:i,zoomMargin:a}),l=r>i?r/t:i/o;return s>1?l:s*l},t.isMaxDimension=function(e){return e.clientWidth>=e.naturalWidth||e.clientHeight>=e.naturalHeight}},616:function(e,t,o){"use strict";o(617);var n=o(8),r=o(104),i=o(25),a=/./.toString,s=function(e){o(19)(RegExp.prototype,"toString",e,!0)};o(26)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?r.call(e):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},617:function(e,t,o){o(25)&&"g"!=/./g.flags&&o(34).f(RegExp.prototype,"flags",{configurable:!0,get:o(104)})},618:function(e,t,o){var n=o(9),r=o(619),i=o(34).f,a=o(622).f,s=o(73),l=o(104),c=n.RegExp,u=c,d=c.prototype,f=/a/g,p=/a/g,h=new c(f)!==f;if(o(25)&&(!h||o(26)(function(){return p[o(7)("match")]=!1,c(f)!=f||c(p)==p||"/a/i"!=c(f,"i")}))){c=function(e,t){var o=this instanceof c,n=s(e),i=void 0===t;return!o&&n&&e.constructor===c&&i?e:r(h?new u(n&&!i?e.source:e,t):u((n=e instanceof c)?e.source:e,n&&i?l.call(e):t),o?this:d,c)};for(var m=function(e){e in c||i(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},y=a(u),g=0;y.length>g;)m(y[g++]);d.constructor=c,c.prototype=d,o(19)(n,"RegExp",c)}o(107)("RegExp")},619:function(e,t,o){var n=o(14),r=o(620).set;e.exports=function(e,t,o){var i,a=t.constructor;return a!==o&&"function"==typeof a&&(i=a.prototype)!==o.prototype&&n(i)&&r&&r(e,i),e}},620:function(e,t,o){var n=o(14),r=o(8),i=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=o(27)(Function.call,o(621).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,o){return i(e,o),t?e.__proto__=o:n(e,o),e}}({},!1):void 0),check:i}},621:function(e,t,o){var n=o(109),r=o(70),i=o(50),a=o(106),s=o(35),l=o(105),c=Object.getOwnPropertyDescriptor;t.f=o(25)?c:function(e,t){if(e=i(e),t=a(t,!0),l)try{return c(e,t)}catch(o){}if(s(e,t))return r(!n.f.call(e,t),e[t])}},622:function(e,t,o){var n=o(108),r=o(72).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},630:function(e,t,o){var n=o(34).f,r=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in r||o(25)&&n(r,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},631:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={keys:["Enter"],keyCode:13},r=function(e){var t=e.keyCode,o=e.keys;return function(e){return e.keyCode?e.keyCode===t:-1!==o.indexOf(e.key)}},i=(t.isEnterOrSpaceBarKey=function(e){return r(n)(e)||i(e)},t.isTabKey=r({keys:["Tab"],keyCode:9}),t.isSpaceBarKey=r({keys:[" "],keyCode:32}));t.isEscapeKey=r({keys:["Escape","Esc"],keyCode:27})},633:function(e,t,o){"use strict";var n=o(2),r=o(77),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=Object(r.a)(function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),s=o(71),l=o.n(s),c=o(3),u=o(24),d=o(18),f=a,p=function(e){return"theme"!==e&&"innerRef"!==e},h=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?f:p};t.a=function e(t,o){var r,i,a;void 0!==o&&(r=o.label,a=o.target,i=t.__emotion_forwardProp&&o.shouldForwardProp?function(e){return t.__emotion_forwardProp(e)&&o.shouldForwardProp(e)}:o.shouldForwardProp);var s=t.__emotion_real===t,f=s&&t.__emotion_base||t;"function"!=typeof i&&s&&(i=t.__emotion_forwardProp);var p=i||h(f),m=!p("as");return function(){var y=arguments,g=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&g.push("label:"+r+";"),null==y[0]||void 0===y[0].raw)g.push.apply(g,y);else{g.push(y[0][0]);for(var v=y.length,b=1;b<v;b++)g.push(y[b],y[0][b])}var _=Object(c.e)(function(e,t,o){return Object(n.createElement)(c.b.Consumer,null,function(r){var s=m&&e.as||f,l="",c=[],y=e;if(null==e.theme){for(var v in y={},e)y[v]=e[v];y.theme=r}"string"==typeof e.className&&(l+=Object(u.a)(t.registered,c,e.className));var b=Object(d.a)(g.concat(c),t.registered,y);Object(u.b)(t,b,"string"==typeof s),l+=t.key+"-"+b.name,void 0!==a&&(l+=" "+a);var _=m&&void 0===i?h(s):p,w={};for(var k in e)m&&"as"===k||_(k)&&(w[k]=e[k]);return w.className=l,w.ref=o||e.innerRef,Object(n.createElement)(s,w)})});return _.displayName=void 0!==r?r:"Styled("+("string"==typeof f?f:f.displayName||f.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=f,_.__emotion_styles=g,_.__emotion_forwardProp=i,Object.defineProperty(_,"toString",{value:function(){return"."+a}}),_.withComponent=function(t,n){return e(t,void 0!==n?l()({},o||{},n):o).apply(void 0,g)},_}}},635:function(e,t,o){var n=o(636);o(111),o(75),o(49),o(638);var r=o(17),i=o(53),a=o(2),s=o(45).MDXTag,l=o(74).withMDXComponents,c=o(82).withMDXScope;e.exports=c(l(function(e){var t=e.scope,o=void 0===t?{}:t,l=e.components,c=void 0===l?{}:l,u=e.children,d=i(e,["scope","components","children"]);if(!u)return null;var f=r({React:a,MDXTag:s},o),p=Object.keys(f),h=p.map(function(e){return f[e]}),m=n(Function,["_fn"].concat(p,[""+u])).apply(void 0,[{}].concat(h));return a.createElement(m,r({components:c},d))}))},636:function(e,t,o){var n=o(637);function r(t,o,i){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?e.exports=r=function(e,t,o){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return o&&n(i,o.prototype),i}:e.exports=r=Reflect.construct,r.apply(null,arguments)}e.exports=r},637:function(e,t){function o(t,n){return e.exports=o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(t,n)}e.exports=o},638:function(e,t,o){var n=o(36),r=o(52);o(639)("keys",function(){return function(e){return r(n(e))}})},639:function(e,t,o){var n=o(15),r=o(20),i=o(26);e.exports=function(e,t){var o=(r.Object||{})[e]||Object[e],a={};a[e]=t(o),n(n.S+n.F*i(function(){o(1)}),"Object",a)}},657:function(e,t,o){var n=o(15);n(n.P,"Array",{fill:o(658)}),o(54)("fill")},658:function(e,t,o){"use strict";var n=o(36),r=o(110),i=o(21);e.exports=function(e){for(var t=n(this),o=i(t.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,o),l=a>2?arguments[2]:void 0,c=void 0===l?o:r(l,o);c>s;)t[s++]=e;return t}},659:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=o(660),i=(n=r)&&n.__esModule?n:{default:n};t.default=i.default},660:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(2),a=p(i),s=o(5),l=p(o(612)),c=o(613),u=o(631),d=p(o(661)),f=p(o(662));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){return null!=e},m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={isDisabled:!1,isZoomed:!1,src:e.image.src},o._handleKeyDown=o._handleKeyDown.bind(o),o._handleLoad=o._handleLoad.bind(o),o._handleLoadError=o._handleLoadError.bind(o),o._handleUnzoom=o._handleUnzoom.bind(o),o._handleZoom=o._handleZoom.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){if(!h(this.props.isZoomed)&&h(e.isZoomed))throw new Error(l.default.errors.uncontrolled);if(h(this.props.isZoomed)&&!h(e.isZoomed))throw new Error(l.default.errors.controlled);this.props.isZoomed&&!e.isZoomed&&(this.isClosing=!0);var t=this.props.image.src,o=e.image.src;t!==o&&this.setState({src:o})}},{key:"componentDidUpdate",value:function(e,t){var o=h(e.isZoomed)?e.isZoomed:t.isZoomed,n=h(this.props.isZoomed)?this.props.isZoomed:this.state.isZoomed;o!==n&&!n&&this.portalInstance&&this.portalInstance.unzoom({force:!0})}},{key:"render",value:function(){var e=this,t=this.props,o=t.defaultStyles,r=t.image,i=t.isZoomed,s=t.shouldRespectMaxDimension,l=t.zoomImage,c=t.zoomMargin,u=this.state,p=u.isDisabled,m=u.isZoomed,y=u.src,g=n({},!p&&{tabIndex:0},r,{src:y,style:this._getImageStyle()},!p&&{onMouseDown:this._preventFocus,onClick:this._handleZoom,onKeyDown:this._handleKeyDown}),v=h(i)?i:m;return[a.default.createElement("img",n({},g,{key:"image",ref:function(t){e.image=t},onLoad:this._handleLoad,onError:this._handleLoadError})),this.image&&(v||this.isClosing)?a.default.createElement(d.default,{key:"portal",ref:function(t){e.portalInstance=t},controlledEventFn:this._getControlledEventFn(),allowAccessibilityClose:this._allowTabNavigation()},a.default.createElement(f.default,{defaultStyles:o,image:this.image,shouldRespectMaxDimension:s,zoomImage:l,zoomMargin:Number(c),onUnzoom:this._handleUnzoom})):null]}},{key:"_checkShouldDisableComponent",value:function(){var e=this.props,t=e.shouldRespectMaxDimension,o=e.zoomImage,n=t&&!o&&(0,c.isMaxDimension)(this.image);this.setState({isDisabled:n})}},{key:"_getImageStyle",value:function(){var e=this.isClosing,t=this.props,o=t.defaultStyles,r=t.image,i=t.isZoomed,a=this.state,s=a.isDisabled,c=a.isZoomed||i||e;return n({},l.default.styles.image,c&&{visibility:"hidden"},o.image,r.style,s&&{cursor:"inherit"})}},{key:"_handleLoad",value:function(e){this._checkShouldDisableComponent(),(this.props.image.onLoad||Function.prototype)(e)}},{key:"_handleLoadError",value:function(e){this.setState({isDisabled:!0}),(this.props.image.onError||Function.prototype)(e)}},{key:"_handleKeyDown",value:function(e){(0,u.isEnterOrSpaceBarKey)(e)&&(e.preventDefault(),this._handleZoom(e))}},{key:"_preventFocus",value:function(e){e.preventDefault()}},{key:"_handleZoom",value:function(e){!h(this.props.isZoomed)&&this.props.shouldHandleZoom(e)?this.setState({isZoomed:!0},this.props.onZoom):this.props.onZoom()}},{key:"_handleUnzoom",value:function(e,t){var o=this;return function(){var r=n({isZoomed:!1},o.props.shouldReplaceImage&&{src:e});delete o.isClosing,o.setState(r,o.props.onUnzoom),t&&o._allowTabNavigation()&&o.image.focus()}}},{key:"_getControlledEventFn",value:function(){return h(this.props.isZoomed)?this.props.onUnzoom:null}},{key:"_allowTabNavigation",value:function(){return this.image&&-1!==this.image.tabIndex}}],[{key:"defaultProps",get:function(){return{shouldReplaceImage:!0,shouldRespectMaxDimension:!1,zoomMargin:40,defaultStyles:{zoomContainer:{},overlay:{},image:{},zoomImage:{}},shouldHandleZoom:function(){return!0},onZoom:function(){},onUnzoom:function(){}}}}]),t}();t.default=m,m.propTypes={image:(0,s.shape)({src:s.string.isRequired,alt:s.string,className:s.string,style:s.object}).isRequired,zoomImage:(0,s.shape)({src:s.string,alt:s.string,className:s.string,style:s.object}),defaultStyles:s.object,isZoomed:s.bool,shouldHandleZoom:s.func,shouldReplaceImage:s.bool,shouldRespectMaxDimension:s.bool,onZoom:s.func,onUnzoom:s.func}},661:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(2),i=d(r),a=o(66),s=o(5),l=d(o(612)),c=o(613),u=o(631);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.portal=(0,c.createPortalContainer)("div"),e.unzoom=e.unzoom.bind(e),e._handleScroll=e._handleScroll.bind(e),e._handleKeyDown=e._handleKeyDown.bind(e),e._handleResize=e._handleResize.bind(e),e._handleTouchStart=e._handleTouchStart.bind(e),e._handleTouchMove=e._handleTouchMove.bind(e),e._handleTouchEnd=e._handleTouchEnd.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentDidMount",value:function(){var e=this;this.pageYOffset=window.pageYOffset,this.loadTimeout=setTimeout(function(){window.addEventListener("scroll",e._handleScroll),window.addEventListener("keydown",e._handleKeyDown),window.addEventListener("ontouchstart",e._handleTouchStart),window.addEventListener("ontouchmove",e._handleTouchMove),window.addEventListener("ontouchend",e._handleTouchEnd),window.addEventListener("ontouchcancel",e._handleTouchEnd),window.addEventListener("resize",e._handleResize)},l.default.transitionDuration)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.loadTimeout),window.removeEventListener("scroll",this._handleScroll),window.removeEventListener("keydown",this._handleKeyDown),window.removeEventListener("ontouchstart",this._handleTouchStart),window.removeEventListener("ontouchmove",this._handleTouchMove),window.removeEventListener("ontouchend",this._handleTouchEnd),window.removeEventListener("ontouchcancel",this._handleTouchEnd),window.removeEventListener("resize",this._handleResize),(0,c.removePortalContainer)(this.portal)}},{key:"render",value:function(){return this.portal?(0,a.createPortal)(i.default.createElement("div",{onClick:this.unzoom},this._cloneChild()),this.portal):null}},{key:"unzoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.force,o=e.allowRefocus;return this.props.controlledEventFn&&!t?this.props.controlledEventFn():this.child.unzoom(o)}},{key:"_cloneChild",value:function(){var e=this;return i.default.cloneElement(i.default.Children.only(this.props.children),{ref:function(t){e.child=t}})}},{key:"_handleKeyDown",value:function(e){if((0,u.isTabKey)(e))e.preventDefault();else{var t=this.props.allowAccessibilityClose&&(0,u.isEnterOrSpaceBarKey)(e),o=(0,u.isEscapeKey)(e);t&&e.preventDefault(),(t||o)&&this.unzoom({allowRefocus:!0})}}},{key:"_handleResize",value:function(){this.forceUpdate()}},{key:"_handleScroll",value:function(){this.forceUpdate(),Math.abs(window.pageYOffset-this.pageYOffset)>10&&this.unzoom()}},{key:"_handleTouchStart",value:function(e){this.yTouchPosition=e.touches[0].clientY}},{key:"_handleTouchMove",value:function(e){this.forceUpdate(),Math.abs(e.touches[0].clientY-this.yTouchPosition)>10&&this.unzoom()}},{key:"_handleTouchEnd",value:function(){delete this.yTouchPosition}}]),t}();t.default=f,f.propTypes={children:s.element.isRequired,getControlledEventFn:s.func}},662:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(2),a=d(i),s=o(5),l=d(o(612)),c=o(613),u=d(o(663));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={hasLoaded:!1,isZoomed:!0,src:e.image.currentSrc||e.image.src,tmpSrc:null},o.unzoom=o.unzoom.bind(o),o._handleImageLoad=o._handleImageLoad.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props.zoomImage,t=e.src,o=e.srcSet;this.setState({hasLoaded:!0}),(t||o)&&(0,c.fetchImage)(this.props.zoomImage,this._handleImageLoad)}},{key:"componentDidUpdate",value:function(e,t){var o=this;!t.tmpSrc&&this.state.tmpSrc&&setTimeout(function(){o.setState({src:o.state.tmpSrc,tmpSrc:null})},100)}},{key:"render",value:function(){var e=this.props,t=e.defaultStyles,o=e.zoomImage,r=this.state,i=r.tmpSrc,s=r.isZoomed,l=r.src,c=this._getZoomImageStyle();return a.default.createElement("div",{style:this._getZoomContainerStyle()},a.default.createElement(u.default,{isVisible:s,defaultStyles:t}),a.default.createElement("img",n({},o,{src:l,style:c})),a.default.createElement(p,n({},o,{src:i,style:c})))}},{key:"unzoom",value:function(e){var t=this.props.onUnzoom(this.state.src,e);this.setState({isZoomed:!1},function(){return setTimeout(t,l.default.transitionDuration)})}},{key:"_handleImageLoad",value:function(e){this.state.isZoomed&&this.setState({tmpSrc:e.currentSrc||e.src})}},{key:"_getZoomContainerStyle",value:function(){return n({},l.default.styles.zoomContainer,this.props.defaultStyles.zoomContainer)}},{key:"_getZoomImageStyle",value:function(){var e=this.props,t=e.image,o=e.shouldRespectMaxDimension,r=e.src,i=e.zoomMargin,a=t.getBoundingClientRect(),s=a.top,u=a.left,d=t.width,f=t.height,p=t.naturalWidth,h=t.naturalHeight,m={top:s,left:u,width:d,height:f};if(!this.state.hasLoaded||!this.state.isZoomed)return n({},l.default.styles.zoomImage,this.props.defaultStyles.zoomImage,this.props.style,m);var y=document.body.clientWidth/2,g=window.innerHeight/2,v={transform:"translate3d("+(y-(a.left+d/2))+"px, "+(g-(a.top+f/2))+"px, 0) scale("+(o&&!r?(0,c.getMaxDimensionScale)({width:d,height:f,naturalWidth:p,naturalHeight:h,zoomMargin:i}):(0,c.getScale)({width:d,height:f,zoomMargin:i}))+")"};return n({},l.default.styles.zoomImage,this.props.defaultStyles.zoomImage,this.props.style,m,v)}}],[{key:"defaultProps",get:function(){return{zoomImage:{}}}}]),t}();t.default=f,f.propTypes={defaultStyles:s.object.isRequired,image:s.object.isRequired,shouldRespectMaxDimension:s.bool,zoomImage:(0,s.shape)({src:s.string,alt:s.string,className:s.string,style:s.object}).isRequired,zoomMargin:s.number.isRequired,onUnzoom:s.func.isRequired};var p=function(e){var t=e.src,o=e.style,r=function(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(e,["src","style"]);return t?a.default.createElement("img",n({},r,{src:t,style:m(o)})):null},h={position:"fixed",visibility:"hidden"},m=function(e){return n({},e,h)}},663:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(2),a=c(i),s=o(5),l=c(o(612));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={isVisible:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.setState({isVisible:!0})}},{key:"componentWillReceiveProps",value:function(e){e.isVisible||this.setState({isVisible:!1})}},{key:"shouldComponentUpdate",value:function(e){return this.props.isVisible!==e.isVisible||this.state.isVisible!==e.isVisible}},{key:"render",value:function(){return a.default.createElement("div",{style:this._getStyle()})}},{key:"_getStyle",value:function(){var e=1&this.state.isVisible;return n({},l.default.styles.overlay,{opacity:e},this.props.defaultStyles.overlay)}}]),t}();t.default=u,u.propTypes={isVisible:s.bool.isRequired,defaultStyles:s.object.isRequired}}}]);
//# sourceMappingURL=12-5c11ef26fa7305765c9d.js.map