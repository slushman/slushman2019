{"data":{"mdx":{"id":"c75cc2c2-5039-54e1-b0bc-f2a32c9aefb7","excerpt":"I recently had a need to list all the published Formidable forms as a select control in Customizer. Formidable doesn't spell out how to get this list, but I…","frontmatter":{"title":"How to Add a Select Menu of Formidable Forms in Customizer","date":"July 18, 2016","category":["Code Samples"],"featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAQL/xAAVAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAABkM8uzvHMEP/EABoQAQEAAgMAAAAAAAAAAAAAAAECADEDERP/2gAIAQEAAQUCdtPj1kSK8QQ7/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAEhEEH/2gAIAQEABj8CglyrKRvP/8QAGxABAAMBAAMAAAAAAAAAAAAAAQARIVFBkcH/2gAIAQEAAT8hqU0eHszIQUfYol8FnLhNwHuYRP/aAAwDAQACAAMAAAAQ8B//xAAWEQEBAQAAAAAAAAAAAAAAAAABEQD/2gAIAQMBAT8QlQzB3//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQIBAT8QeGxf/8QAHBABAAMAAwEBAAAAAAAAAAAAAQARMSFBgXGx/9oACAEBAAE/EArR4I5FYHui/eEYpL9hNQGKX7DuG9t7dP5DSYM//9k=","aspectRatio":1.5,"src":"/static/ee2b3b54e95735909b24734e647e7837/81ef8/yan-xiong-p0D-4KFsuRA-unsplash.jpg","srcSet":"/static/ee2b3b54e95735909b24734e647e7837/c83a6/yan-xiong-p0D-4KFsuRA-unsplash.jpg 300w,\n/static/ee2b3b54e95735909b24734e647e7837/775d9/yan-xiong-p0D-4KFsuRA-unsplash.jpg 600w,\n/static/ee2b3b54e95735909b24734e647e7837/81ef8/yan-xiong-p0D-4KFsuRA-unsplash.jpg 1200w,\n/static/ee2b3b54e95735909b24734e647e7837/fb184/yan-xiong-p0D-4KFsuRA-unsplash.jpg 1800w,\n/static/ee2b3b54e95735909b24734e647e7837/c82f6/yan-xiong-p0D-4KFsuRA-unsplash.jpg 2400w,\n/static/ee2b3b54e95735909b24734e647e7837/2a223/yan-xiong-p0D-4KFsuRA-unsplash.jpg 3600w,\n/static/ee2b3b54e95735909b24734e647e7837/0b354/yan-xiong-p0D-4KFsuRA-unsplash.jpg 6000w","sizes":"(max-width: 1200px) 100vw, 1200px"}}},"featuredImageAccount":"bearock","featuredImagePhotographer":"Yan Xiong"},"code":{"body":"function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nconst layoutProps = {};\nreturn class MDXContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.layout = null;\n  }\n\n  render() {\n    const _this$props = this.props,\n          {\n      components\n    } = _this$props,\n          props = _objectWithoutProperties(_this$props, [\"components\"]);\n\n    return React.createElement(MDXTag, {\n      name: \"wrapper\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `I recently had a need to list all the published Formidable forms as a select control in Customizer. Formidable doesn’t spell out how to get this list, but I eventually stumbled on this method.`), React.createElement(MDXTag, {\n      name: \"pre\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"code\",\n      components: components,\n      parentName: \"pre\",\n      props: {\n        \"className\": \"language-php\"\n      }\n    }, `\\$forms = FrmForm::get_published_forms();\n\\$choices = array();\n\nforeach ( \\$forms as \\$form ) {\n\n  \\$choices[\\$form->id] = \\$form->name;\n\n}\n\n// Formidable Forms Select Field\n\\$wp_customize->add_setting(\n    'formidable_form_select',\n    array(\n        'capability'        => 'edit_theme_options',\n        'default'           => '',\n        'transport'         => 'postMessage',\n        'type'              => 'theme_mod'\n    )\n);\n\n\\$wp_customize->add_control(\n    'formidable_form_select',\n    array(\n        'active_callback'   => '',\n        'choices'           => \\$choices,\n        'description'       => esc_html__( '', 'text-domain' ),\n        'label'             => esc_html__( 'Formidable Forms Select', 'text-domain' ),\n        'priority'          => 10,\n        'section'           => 'your-section',\n        'settings'          => 'formidable_form_select',\n        'type'              => 'select'\n    )\n);\n\n\\$wp_customize->get_setting( 'formidable_form_select' )->transport = 'postMessage';\n`)), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"https://gist.github.com/slushman/c468381070f431d837afbf5af7e09247\"\n      }\n    }, `Gist of the code above`)), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Brief explanation`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Use the get_published_forms() static function in the FrmForm class from Formidable to get an array of public form objects.`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Loop through them and add each to the \\$choices array, which is used for the choices in the Customizer select control.`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `This control will return the form ID. You could tweak this to use the form key or any other data from the form object.`));\n  }\n\n}"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/post/add-select-menu-formidable-forms-customizer/","previous":{"id":"0372f423-b47a-5c69-b974-c6459ba0247e","fields":{"slug":"/post/how-to-link-to-the-customizer/"},"frontmatter":{"title":"How to Link to the Customizer","gallery":null,"category":["Code Samples"]},"code":{"scope":""}},"next":{"id":"654f0c92-0d34-5a4a-ad83-d6107ae3c7b5","fields":{"slug":"/post/artistdatapress-expiration/"},"frontmatter":{"title":"ArtistDataPress Expiration","gallery":null,"category":["ArtistDataPress"]},"code":{"scope":""}}}}