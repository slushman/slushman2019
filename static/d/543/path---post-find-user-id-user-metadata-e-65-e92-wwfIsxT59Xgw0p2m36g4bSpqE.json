{"data":{"mdx":{"id":"23f78fb2-8aa0-5193-b9c6-024edd5f7e20","excerpt":"I just wrote this useful function and thought I'd share. I'm working on a plugin for my employer,  Belmont University.  I needed to find a user's ID by the user…","frontmatter":{"title":"Find User ID by User MetaData","date":"July 25, 2011","category":["Code Samples"],"featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeS1olA//8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAAxEjEv/aAAgBAQABBQK4LLgPTuEJTnnTEE//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAgEAACAQMEAwAAAAAAAAAAAAABAgAREiEiIzFBUWFx/9oACAEBAAY/AlZBQGKFlo69xl8ah8gJ4CXTcrcc4n//xAAaEAADAAMBAAAAAAAAAAAAAAAAAREhMUHB/9oACAEBAAE/IdQFoSUSoU0vAYE7FxPOTDmfuh//2gAMAwEAAgADAAAAEFAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHhABAAIBBAMAAAAAAAAAAAAAAREhADFBUWFxofD/2gAIAQEAAT8QG2B2mzDiQ+NV8GPUgj2+jAYpN26pnu8XOk45qvaZItBWMBoM/9k=","aspectRatio":1.3333333333333333,"src":"/static/7116535967e4fd4e23eb7689ae4bb066/81ef8/david-pl-_WccNTUvnPU-unsplash.jpg","srcSet":"/static/7116535967e4fd4e23eb7689ae4bb066/c83a6/david-pl-_WccNTUvnPU-unsplash.jpg 300w,\n/static/7116535967e4fd4e23eb7689ae4bb066/775d9/david-pl-_WccNTUvnPU-unsplash.jpg 600w,\n/static/7116535967e4fd4e23eb7689ae4bb066/81ef8/david-pl-_WccNTUvnPU-unsplash.jpg 1200w,\n/static/7116535967e4fd4e23eb7689ae4bb066/989b1/david-pl-_WccNTUvnPU-unsplash.jpg 1600w","sizes":"(max-width: 1200px) 100vw, 1200px"}}},"featuredImageAccount":"d_dandelion","featuredImagePhotographer":"david pl"},"code":{"body":"function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nconst layoutProps = {};\nreturn class MDXContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.layout = null;\n  }\n\n  render() {\n    const _this$props = this.props,\n          {\n      components\n    } = _this$props,\n          props = _objectWithoutProperties(_this$props, [\"components\"]);\n\n    return React.createElement(MDXTag, {\n      name: \"wrapper\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `I just wrote this useful function and thought I’d share. I’m working on a plugin for my employer, `, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"https://www.belmont.edu\"\n      }\n    }, `Belmont University.`), ` I needed to find a user’s ID by the user’s barcode metadata. WordPress does not have a built-in function for this, but this custom function works nicely. Add it to your theme’s functions.php file or to a plugin file (in my case, this is part of plugin). Here’s the function:`), React.createElement(MDXTag, {\n      name: \"pre\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"code\",\n      components: components,\n      parentName: \"pre\",\n      props: {\n        \"className\": \"language-php\"\n      }\n    }, `/**\n * Returns a list of user IDs matching the metavalue\n * @param   string      \\$metakey    The metadata key\n * @param   string      \\$metavalue  The value to find\n * @return  array|bool          An array of user IDs or false\n */\nfunction get_user_by_metadata( \\$metakey, \\$metavalue ) {\n\n    \\$return = array();\n    \n    \\$args['fields']     = 'ID';\n    \\$args['meta_key']   = \\$metakey; \n    \\$args['meta_value']     = \\$metavalue;\n\n    \\$user_query = new WP_User_Query( \\$args );\n    \n    if ( empty( \\$user_query->results ) ) { return FALSE; }\n    \n    return \\$user_query;\n\n} // get_user_by_metadata()\n`)), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"https://gist.github.com/slushman/f236ae998f7b5cd7a49c\"\n      }\n    }, `Gist of the code above`)), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Keep in mind, this returns an array, not a string.`));\n  }\n\n}"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/post/find-user-id-user-metadata/","previous":{"id":"a4394eda-d988-5134-bde8-cdfef8e1aff1","fields":{"slug":"/post/change-mail-sound-office-2011-mac/"},"frontmatter":{"title":"How to Change the New Mail Sound in Office 2011 for Mac","gallery":null,"category":["IT"]},"code":{"scope":""}},"next":{"id":"8f597305-7206-5e80-9752-5caf7f7129f8","fields":{"slug":"/post/set-dashboard-column/"},"frontmatter":{"title":"How to Set Dashboard to Use One Column","gallery":null,"category":["Code Samples"]},"code":{"scope":""}}}}