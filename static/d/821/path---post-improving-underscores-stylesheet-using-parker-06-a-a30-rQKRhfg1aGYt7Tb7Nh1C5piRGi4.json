{"data":{"mdx":{"id":"a4fa0e6d-81f1-56d4-a736-d38e33f8f103","excerpt":"In the  previous post  in this  series about Parker , we created a baseline for the _s stylesheet and went through the results to understand them better. We…","frontmatter":{"title":"Improving Underscores Stylesheet Using Parker","date":"October 26, 2016","category":["Parker"],"featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHFldxYB//EABkQAAIDAQAAAAAAAAAAAAAAAAACESEyQf/aAAgBAQABBQJSbF10/8QAFREBAQAAAAAAAAAAAAAAAAAAERD/2gAIAQMBAT8BGf/EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/ASf/xAAXEAADAQAAAAAAAAAAAAAAAAAAARAx/9oACAEBAAY/AtHFf//EABwQAAAGAwAAAAAAAAAAAAAAAAABECExcUFRof/aAAgBAQABPyGTsLGx0I6wHO0//9oADAMBAAIAAwAAABArL//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QD//EABYRAAMAAAAAAAAAAAAAAAAAAAARIf/aAAgBAgEBPxBHSH//xAAbEAEAAgMBAQAAAAAAAAAAAAABACERMUGBwf/aAAgBAQABPxADSUA38RGlc9L8jthwHuEubekaWf/Z","aspectRatio":1.4981273408239701,"src":"/static/406743763a4fb6bd291a962e0a8d879b/81ef8/element5-digital-LTyDj7u_TU4-unsplash.jpg","srcSet":"/static/406743763a4fb6bd291a962e0a8d879b/c83a6/element5-digital-LTyDj7u_TU4-unsplash.jpg 300w,\n/static/406743763a4fb6bd291a962e0a8d879b/775d9/element5-digital-LTyDj7u_TU4-unsplash.jpg 600w,\n/static/406743763a4fb6bd291a962e0a8d879b/81ef8/element5-digital-LTyDj7u_TU4-unsplash.jpg 1200w,\n/static/406743763a4fb6bd291a962e0a8d879b/989b1/element5-digital-LTyDj7u_TU4-unsplash.jpg 1600w","sizes":"(max-width: 1200px) 100vw, 1200px"}}},"featuredImageAccount":"element5digital","featuredImagePhotographer":"Element5 Digital"},"code":{"body":"function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nconst layoutProps = {};\nreturn class MDXContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.layout = null;\n  }\n\n  render() {\n    const _this$props = this.props,\n          {\n      components\n    } = _this$props,\n          props = _objectWithoutProperties(_this$props, [\"components\"]);\n\n    return React.createElement(MDXTag, {\n      name: \"wrapper\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `In the `, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"https://www.slushman.com/post//creating-a-baseline-for-parker/\"\n      }\n    }, `previous post`), ` in this `, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"https://www.slushman.com/post/parker-and-wordpress-theme-development/\"\n      }\n    }, `series about Parker`), `, we created a baseline for the _s stylesheet and went through the results to understand them better. We also get some ideal scores for each metric. Now that we understand what we’re trying to do and why, let’s see how we can change the default _s stylesheet to get better scores from Parker and create a simpler, more maintainable stylesheet.`), React.createElement(MDXTag, {\n      name: \"h2\",\n      components: components\n    }, `Changing the _s Stylesheet`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `When examining the baseline results, we can spot several places where the results differ from the ideal score and we can achieve:`), React.createElement(MDXTag, {\n      name: \"ul\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Reduced Total Stylesheet Size`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Reduced Total Selectors`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Reduced Total Identifiers`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Reduced Selectors Per Rule`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Reduced Identifiers Per Selector`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Reduced Specificity Per Selector`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Reduced Top Selector Specificity`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Reduced Total ID Selectors`)), React.createElement(MDXTag, {\n      name: \"h3\",\n      components: components\n    }, `Top Selector Specificity`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Let’s start with the Top Selector Specificity. This one actually knocks out the Total ID Selectors as well since its the same selector. In style.css (and/or sass `, `>`, ` modules `, `>`, ` accessibility.scss), remove the “#content” at line 682 to become:`), React.createElement(MDXTag, {\n      name: \"pre\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"code\",\n      components: components,\n      parentName: \"pre\",\n      props: {\n        \"className\": \"language-css\"\n      }\n    }, `[tabindex=\"-1\"]:focus {\n`)), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `There’s no reason any element with a tabindex value of -1 would need an outline. It’s simply more efficient to apply this style to any and every element with that attribute value, so this is an easy win.`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Now, if we rerun Parker on the style.css file, we get:`), React.createElement(MDXTag, {\n      name: \"ul\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Total Identifiers: 507`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Identifiers Per Selector: 1.825, down from 1.8285714285714285`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Specificity Per Selector: 10.089285714285714, down from 10.446428571428571`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Top Selector Specificity: 30, down from 120`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Total Id Selectors: 0`)), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `In addition to improving several of our stats, the Top Selector Specificity Selector has changed to the next “worst offending” selector. However, all the infinite-scroll classes fall into the “we can’t control what other coders give us” category, so we’ll leave that alone.`), React.createElement(MDXTag, {\n      name: \"h3\",\n      components: components\n    }, `Identifiers Per Rule`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Another fairly easy tweak will decrease the Identifiers Per Rule and the Selectors Per Rule. In the style.css, we’re going to remove all input selectors before a [] selector. Look at the Forms section, which starts around line 420. Many of the selectors here are structured like: input`, `[input=“sometype”]`, `. Parker and browser see two selectors here: “input” and ”`, `[type=“sometype”]`, `”. However, its extraordinarily rare that any other element is going to use the type=“text” attribute or any of the others listed here, so the prefix of “input” can be removed entirely.`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `While that’s all well and good for the button selectors, the field selectors are another story. Do we really need to specify each type of field here? Its more efficient to take all the input`, `[type=“text”]`, `, input`, `[type=“password”]`, `, etc and make the entire selector just: “input, textarea”. Then move all the button selectors below this edited selector, so they get different styling than the generic “input” styling. If we need different styling for a particular input type, we can add that in after the input selector’s declaration. So the Forms sections goes from this:`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, React.createElement(\"a\", {\n      className: \"gatsby-resp-image-link\",\n      href: \"/static/cc1bf1f5b3c6f02b03d8cd0b438b410b/e60a7/parker-forms-styles-before.png\",\n      style: {\n        \"display\": \"block\"\n      },\n      target: \"_blank\",\n      rel: \"noopener\"\n    }, React.createElement(\"span\", {\n      className: \"gatsby-resp-image-wrapper\",\n      style: {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"maxWidth\": \"590px\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\"\n      }\n    }, React.createElement(\"span\", {\n      className: \"gatsby-resp-image-background-image\",\n      style: {\n        \"paddingBottom\": \"180.65296251511487%\",\n        \"position\": \"relative\",\n        \"bottom\": \"0px\",\n        \"left\": \"0px\",\n        \"backgroundSize\": \"cover\",\n        \"display\": \"block\"\n      }\n    }, React.createElement(\"img\", {\n      className: \"gatsby-resp-image-image\",\n      style: {\n        \"width\": \"100%\",\n        \"height\": \"100%\",\n        \"margin\": \"0px\",\n        \"verticalAlign\": \"middle\",\n        \"position\": \"absolute\",\n        \"top\": \"0px\",\n        \"left\": \"0px\",\n        \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n      },\n      alt: \"parker forms styles before\",\n      title: \"Forms Styles Before\",\n      src: \"/static/cc1bf1f5b3c6f02b03d8cd0b438b410b/b9e4f/parker-forms-styles-before.png\",\n      srcSet: \"/static/cc1bf1f5b3c6f02b03d8cd0b438b410b/cf440/parker-forms-styles-before.png 148w,\\n/static/cc1bf1f5b3c6f02b03d8cd0b438b410b/d2d38/parker-forms-styles-before.png 295w,\\n/static/cc1bf1f5b3c6f02b03d8cd0b438b410b/b9e4f/parker-forms-styles-before.png 590w,\\n/static/cc1bf1f5b3c6f02b03d8cd0b438b410b/e60a7/parker-forms-styles-before.png 827w\",\n      sizes: \"(max-width: 590px) 100vw, 590px\"\n    }))))), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `To this:`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, React.createElement(\"a\", {\n      className: \"gatsby-resp-image-link\",\n      href: \"/static/9f7b30376b379f0f39ad18f1acbdc95c/00189/parker-forms-styles-after.png\",\n      style: {\n        \"display\": \"block\"\n      },\n      target: \"_blank\",\n      rel: \"noopener\"\n    }, React.createElement(\"span\", {\n      className: \"gatsby-resp-image-wrapper\",\n      style: {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"maxWidth\": \"590px\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\"\n      }\n    }, React.createElement(\"span\", {\n      className: \"gatsby-resp-image-background-image\",\n      style: {\n        \"paddingBottom\": \"129.2929292929293%\",\n        \"position\": \"relative\",\n        \"bottom\": \"0px\",\n        \"left\": \"0px\",\n        \"backgroundSize\": \"cover\",\n        \"display\": \"block\"\n      }\n    }, React.createElement(\"img\", {\n      className: \"gatsby-resp-image-image\",\n      style: {\n        \"width\": \"100%\",\n        \"height\": \"100%\",\n        \"margin\": \"0px\",\n        \"verticalAlign\": \"middle\",\n        \"position\": \"absolute\",\n        \"top\": \"0px\",\n        \"left\": \"0px\",\n        \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n      },\n      alt: \"parker forms styles after\",\n      title: \"Forms Styles After\",\n      src: \"/static/9f7b30376b379f0f39ad18f1acbdc95c/b9e4f/parker-forms-styles-after.png\",\n      srcSet: \"/static/9f7b30376b379f0f39ad18f1acbdc95c/cf440/parker-forms-styles-after.png 148w,\\n/static/9f7b30376b379f0f39ad18f1acbdc95c/d2d38/parker-forms-styles-after.png 295w,\\n/static/9f7b30376b379f0f39ad18f1acbdc95c/b9e4f/parker-forms-styles-after.png 590w,\\n/static/9f7b30376b379f0f39ad18f1acbdc95c/00189/parker-forms-styles-after.png 792w\",\n      sizes: \"(max-width: 590px) 100vw, 590px\"\n    }))))), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `When we rerun Parker on the updated stylesheet, we get:`), React.createElement(MDXTag, {\n      name: \"ul\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Total Stylesheet Size: 14647, down from 15424`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Total Selectors: 252, down from 280`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Total Identifiers: 423, down from 507`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Selectors Per Rule: 1.8805970149253732, down from 2.08955223880597`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Identifiers Per Rule: 1.6944444444444444, down from 1.825`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Specificity Per Selector: 9.305555555555555, down from 10.089285714285714`)), React.createElement(MDXTag, {\n      name: \"h3\",\n      components: components\n    }, `Normalize`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `We can reduce that even further by changing the Normalize.css section to update it closer to the current version (v 5.0.0 as of this writing). Remove all the “input” prefixes in the Normalize section at the top. This changes results in:`), React.createElement(MDXTag, {\n      name: \"ul\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Total Identifiers: 413`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Identifiers Per Selector: 1.6547619047619047`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Specificity Per Selector: 9.265873015873016`)), React.createElement(MDXTag, {\n      name: \"h3\",\n      components: components\n    }, `Clearings`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Another easy win is in the Clearings section. Currently, the stylesheet has 12 selectors in the first declaration, and 6 in the second. Almost all of the selectors besides .clear can be removed by adding the “clear” class to the elements in the theme. The one exception is the comment-content class since the comments content is output from WordPress and there isn’t currently a way to add the clear class to that output.`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Open the template-parts/content-page.php and template-parts/content.php files, add the clear class to the entry-content div. Then remove the corresponding “.entry-content” selectors from the Clearings section of the stylesheet.`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Open header.php and add the clear class to the header element and the .site-content element. Then remove the “.site-header” selectors and the “.site-content” from the Clearings section in the stylesheet.`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Open footer.php and add the clear class to the footer element, then remove the “.site-footer” selectors from the Clearings section in the stylesheet.`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `The results from this change have no effect on the styling or appearance, but we get much better stats from Parker:`), React.createElement(MDXTag, {\n      name: \"ul\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Total Selectors: 240, down from 252`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Total identifiers: 389, down from 413`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Selectors Per Rule: 1.791044776119403, down from 1.8805970149253732`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Identifiers Per Selector: 1.6375, down from 1.6547619047619047`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Specificity Per Selector: 8.729166666666666, down from 9.265873015873016`)), React.createElement(MDXTag, {\n      name: \"h2\",\n      components: components\n    }, `Wrapping Up`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `We’ve gone through the majority of the _s stylesheet and optimized it to improve our Parker scores. However, the biggest optimization we can make is with the menus. In the `, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"https://www.slushman.com/post/simplifying-menu-styling/\"\n      }\n    }, `next post`), `, we’ll go through all the code and changes we’ll need to add, in addition to the changes to the stylesheet.`));\n  }\n\n}"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/post/improving-underscores-stylesheet-using-parker/","previous":{"id":"305985fe-02df-564e-b2c2-50ce9a7c1fc4","fields":{"slug":"/post/creating-a-baseline-for-parker/"},"frontmatter":{"title":"Creating a Baseline for Parker","gallery":null,"category":["Parker"]},"code":{"scope":""}},"next":{"id":"29ce11e0-1ef6-59b6-8009-3b0a1735f650","fields":{"slug":"/post/simplifying-wordpress-menu-styling/"},"frontmatter":{"title":"Simplifying WordPress Menu Styling","gallery":null,"category":["Parker"]},"code":{"scope":""}}}}