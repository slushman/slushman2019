{"data":{"mdx":{"id":"96f6b100-e3fc-5cc9-912d-941a64c08b10","excerpt":"While developing a new plugin, I needed to toggle the visibility of some metaboxes. The visibility of each metabox depends on the selected radio button in…","frontmatter":{"title":"How to Add a Class to a Metabox","date":"September 08, 2012","category":["Code Samples"],"featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAf/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB1sVOTRIv/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAECERL/2gAIAQEAAQUCx53Qq5IrXOSNyf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EAB0QAAEDBQEAAAAAAAAAAAAAAAARkaEBECExMkL/2gAIAQEABj8C9GVYRatbUnMn/8QAGxABAAMBAAMAAAAAAAAAAAAAAQARMSFRYYH/2gAIAQEAAT8hMhvGpa2Kn1FFhfYlI075iYp92OK7x//aAAwDAQACAAMAAAAQv8//xAAXEQADAQAAAAAAAAAAAAAAAAAAASER/9oACAEDAQE/EMeUdrR//8QAGBEAAgMAAAAAAAAAAAAAAAAAACEBEUH/2gAIAQIBAT8QVjyT/8QAHBABAQACAgMAAAAAAAAAAAAAAREAITFBgaHR/9oACAEBAAE/EK4pmlHO9d5A3OAF2IfMeVxU7eSIpO2vlecCUKaVti52SnKl95//2Q==","aspectRatio":1.4981273408239701,"src":"/static/b875acb0ba886215e6091d1633a27c2e/81ef8/noodle-kimm-ytMmedc6y44-unsplash.jpg","srcSet":"/static/b875acb0ba886215e6091d1633a27c2e/c83a6/noodle-kimm-ytMmedc6y44-unsplash.jpg 300w,\n/static/b875acb0ba886215e6091d1633a27c2e/775d9/noodle-kimm-ytMmedc6y44-unsplash.jpg 600w,\n/static/b875acb0ba886215e6091d1633a27c2e/81ef8/noodle-kimm-ytMmedc6y44-unsplash.jpg 1200w,\n/static/b875acb0ba886215e6091d1633a27c2e/989b1/noodle-kimm-ytMmedc6y44-unsplash.jpg 1600w","sizes":"(max-width: 1200px) 100vw, 1200px"}}},"featuredImageAccount":"noodle-kimm","featuredImagePhotographer":"noodle kimm"},"code":{"body":"function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nconst layoutProps = {};\nreturn class MDXContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.layout = null;\n  }\n\n  render() {\n    const _this$props = this.props,\n          {\n      components\n    } = _this$props,\n          props = _objectWithoutProperties(_this$props, [\"components\"]);\n\n    return React.createElement(MDXTag, {\n      name: \"wrapper\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `While developing a new plugin, I needed to toggle the visibility of some metaboxes. The visibility of each metabox depends on the selected radio button in another metabox. In order to toggle the correct metabox, each metabox needs a distinct class. Check the code samples below for how to add a class to a metabox.`), React.createElement(MDXTag, {\n      name: \"h2\",\n      components: components\n    }, `The Simple Way`), React.createElement(MDXTag, {\n      name: \"pre\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"code\",\n      components: components,\n      parentName: \"pre\",\n      props: {\n        \"className\": \"language-php\"\n      }\n    }, `/**\n * The simplistic way to add a custom class to a specific metabox\n *\n * @param   array   \\$classes    The current classes on the metabox\n * @return  array               The modified classes on the metabox\n */\nfunction add_metabox_classes( \\$classes = array() ) {\n\n    return array_push( \\$classes, sanitize_html_class( 'my-custom-class' ) );\n\n} // add_metabox_classes()\n\n/**\n * {post_type_name}     The name of the post type\n * {metabox_id}         The ID attribute of the metabox\n */\nadd_filter( 'postbox_classes_{post_type_name}_{metabox_id}, 'add_metabox_classes' );\n`)), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `The add_filter() statement works like this: replace {post_type_name} with the name of your post type. Then replace {metabox_id} with the metabox id for which you want to add a class.`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `The add_metabox_classes() function accepts the \\$classes array, which contains all the classes for the class attribute. In the function, we add a new class to the end of the array, then return it.`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Now, you’re all finished. The metabox will have your new class and you can target it in a script. I’ll write another tutorial on how to use jQuery to show or hide that metabox based on the value of the radio buttons.`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `EDIT (4/7/2014):`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `I’ve recently updated this method in four ways to make it simpler and easier. First of all, the \\$classes parameter passed in from WordPress is an array, so make sure the parameter itself is optional by assigning it as a blank array if its empty. Second, create an array of the class or classes you’d like to add. Third, check the existing \\$classes array to make sure you don’t add a class that’s already in there. Fourth, instead of using the array`, `_`, `push function, just assign it to the next place in the \\$classes array using the brackets after the variable.`), React.createElement(MDXTag, {\n      name: \"h2\",\n      components: components\n    }, `The Thorough Way`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `The more thorough way checks if the class already exists in the metabox classes before adding it. Obviously, this is better, so use this method.`), React.createElement(MDXTag, {\n      name: \"pre\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"code\",\n      components: components,\n      parentName: \"pre\",\n      props: {\n        \"className\": \"language-php\"\n      }\n    }, `/**\n * The more thorough way to add a custom class to a specific metabox\n *\n * Uses the same add_filter call, but its easier to add additional classes\n * and it checks if new class is already there.\n *\n * @param   array   \\$classes    The current classes on the metabox\n * @return  array               The modified classes on the metabox\n */\nfunction add_metabox_classes( \\$classes = array() ) {\n\n    \\$add_classes = array( 'new_class1', 'new_class2' );\n\n    foreach ( \\$add_classes as \\$class ) {\n\n        if ( ! in_array( \\$class, \\$classes ) ) {\n\n            \\$classes[] = sanitize_html_class( \\$class );\n\n        }\n\n    } // End of foreach loop\n\n    return \\$classes;\n\n} // add_metabox_classes()\n\n/**\n * {post_type_name}     The name of the post type\n * {metabox_id}         The ID attribute of the metabox\n */\nadd_filter( 'postbox_classes_{post_type_name}_{metabox_id}, 'add_metabox_classes' );\n`)));\n  }\n\n}"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/post/add-class-metabox/","previous":{"id":"f14448a6-8c24-5fd1-a61a-5fdc1ff78201","fields":{"slug":"/post/add-jquery-ui-datepicker-plugin/"},"frontmatter":{"title":"How to Add the jQuery UI Datepicker to a Plugin","gallery":null,"category":["Code Samples"]},"code":{"scope":""}},"next":{"id":"6ee41595-2afc-5315-aa67-922d6f0c7be2","fields":{"slug":"/post/returning-submit-button/"},"frontmatter":{"title":"Returning a submit button","gallery":null,"category":["Code Samples"]},"code":{"scope":""}}}}