{"data":{"mdx":{"id":"0c7e27af-7ead-5c9e-b621-a9749eb8a866","excerpt":"In my  previous post , I talked about creating a headless front end for WordPress using Create React App. Turning my WordPress site into a headless React app…","frontmatter":{"title":"Editor Links for Headless WordPress Themes","date":"August 22, 2018","category":["Headless WordPress"],"featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAGVc4unEF//xAAaEAACAwEBAAAAAAAAAAAAAAAAAgEREgMi/9oACAEBAAEFAucJK0p5NGyHo//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AVf/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwGq/8QAGRAAAwADAAAAAAAAAAAAAAAAAAExEBFh/9oACAEBAAY/AujWkikJj//EABgQAQEBAQEAAAAAAAAAAAAAAAERACFB/9oACAEBAAE/IYCjlbUHG5PNbgOXNSjhkEN//9oADAMBAAIAAwAAABCA3//EABkRAQACAwAAAAAAAAAAAAAAAAEAETFRof/aAAgBAwEBPxBawwGzs//EABYRAQEBAAAAAAAAAAAAAAAAAAEAMf/aAAgBAgEBPxBZkG//xAAbEAEBAQACAwAAAAAAAAAAAAABEQAhMUFRcf/aAAgBAQABPxDhoQpfmSW6gXoxEF4FQ84NSglTvM7BAHnRjD0O/9k=","aspectRatio":1.499531396438613,"src":"/static/aa2c65ab0a7124949b38cc5c24d772c3/81ef8/joshua-coleman-Ay0BrcBN7h8-unsplash.jpg","srcSet":"/static/aa2c65ab0a7124949b38cc5c24d772c3/c83a6/joshua-coleman-Ay0BrcBN7h8-unsplash.jpg 300w,\n/static/aa2c65ab0a7124949b38cc5c24d772c3/775d9/joshua-coleman-Ay0BrcBN7h8-unsplash.jpg 600w,\n/static/aa2c65ab0a7124949b38cc5c24d772c3/81ef8/joshua-coleman-Ay0BrcBN7h8-unsplash.jpg 1200w,\n/static/aa2c65ab0a7124949b38cc5c24d772c3/989b1/joshua-coleman-Ay0BrcBN7h8-unsplash.jpg 1600w","sizes":"(max-width: 1200px) 100vw, 1200px"}}},"featuredImageAccount":"joshstyle","featuredImagePhotographer":"JOSHUA COLEMAN"},"code":{"body":"function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nconst layoutProps = {};\nreturn class MDXContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.layout = null;\n  }\n\n  render() {\n    const _this$props = this.props,\n          {\n      components\n    } = _this$props,\n          props = _objectWithoutProperties(_this$props, [\"components\"]);\n\n    return React.createElement(MDXTag, {\n      name: \"wrapper\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `In my `, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"https://www.slushman.com/post/headless-wordpress-create-react-app\"\n      }\n    }, `previous post`), `, I talked about creating a headless front end for WordPress using Create React App. Turning my WordPress site into a headless React app was a massive learning experience. There were many challenges, like learning React, then learning the REST API, and creating custom endpoints. I won’t even mention battling CORS headers. One of the more interesting issues I ran into, with editor links, ultimately had a very simple solution.`), React.createElement(MDXTag, {\n      name: \"h2\",\n      components: components\n    }, `The Problem`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `My WordPress install lives at api.slushman.com and my live site (the part you’re reading now) lives at slushman.com. So when I’m writing content in WordPress and link to another post on my site, it creates a little problem. Should I link to api.slushman.com/something? Ideally, I’d link to slushman.com/something since readers would visit that page. The question is: how can I link to the live domain while the site exists on another domain? I’d like to avoid manually editing every single link, especially for all the existing posts.`), React.createElement(MDXTag, {\n      name: \"h2\",\n      components: components\n    }, `The Solution`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Thankfully, the solution was much simpler than I originally thought. In my mind, this problem was an insurmountable monster. But WordPress solved this problem years ago. Before the REST API existed, people wanted to install WordPress in a subfolder so all the files don’t clutter up their site’s root folder. But they wanted the WordPress content to appear like it was just part of the rest of the site. The solution for this problem also solves the editor links problem for a headless front end.`), React.createElement(MDXTag, {\n      name: \"h3\",\n      components: components\n    }, `Change URL Settings`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `In the admin, on the Settings `, `>`, ` General page, there are two fields for a URL:`), React.createElement(MDXTag, {\n      name: \"ul\",\n      components: components\n    }, React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `WordPress Address`), React.createElement(MDXTag, {\n      name: \"li\",\n      components: components,\n      parentName: \"ul\"\n    }, `Site Address`)), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Since most every site I’ve worked on used WordPress to both manage and display the content, these settings have always been the same. However, since the front end and back end are on two different URLs, they need to be different values.`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `WordPress Address is the URL where your WordPress install lives. In this case, this is my WordPress backend, so the correct value is api.slushman.com.`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Site Address is the URL for the viewable site. Since I’m going headless, this setting would be slushman.com. WordPress uses this value when creating editor links. So now when I create a link within the editor to another page or post within the site, the link goes to slushman.com.`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, React.createElement(\"a\", {\n      className: \"gatsby-resp-image-link\",\n      href: \"/static/c64dfeb3b1eaa67f69c4d30f5313f4b2/1ed18/site-settings-wordpress.png\",\n      style: {\n        \"display\": \"block\"\n      },\n      target: \"_blank\",\n      rel: \"noopener\"\n    }, React.createElement(\"span\", {\n      className: \"gatsby-resp-image-wrapper\",\n      style: {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"maxWidth\": \"590px\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\"\n      }\n    }, React.createElement(\"span\", {\n      className: \"gatsby-resp-image-background-image\",\n      style: {\n        \"paddingBottom\": \"18.76046901172529%\",\n        \"position\": \"relative\",\n        \"bottom\": \"0px\",\n        \"left\": \"0px\",\n        \"backgroundSize\": \"cover\",\n        \"display\": \"block\"\n      }\n    }, React.createElement(\"img\", {\n      className: \"gatsby-resp-image-image\",\n      style: {\n        \"width\": \"100%\",\n        \"height\": \"100%\",\n        \"margin\": \"0px\",\n        \"verticalAlign\": \"middle\",\n        \"position\": \"absolute\",\n        \"top\": \"0px\",\n        \"left\": \"0px\",\n        \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n      },\n      alt: \"site settings wordpress\",\n      title: \"Site settings in WordPress\",\n      src: \"/static/c64dfeb3b1eaa67f69c4d30f5313f4b2/b9e4f/site-settings-wordpress.png\",\n      srcSet: \"/static/c64dfeb3b1eaa67f69c4d30f5313f4b2/cf440/site-settings-wordpress.png 148w,\\n/static/c64dfeb3b1eaa67f69c4d30f5313f4b2/d2d38/site-settings-wordpress.png 295w,\\n/static/c64dfeb3b1eaa67f69c4d30f5313f4b2/b9e4f/site-settings-wordpress.png 590w,\\n/static/c64dfeb3b1eaa67f69c4d30f5313f4b2/1ed18/site-settings-wordpress.png 597w\",\n      sizes: \"(max-width: 590px) 100vw, 590px\"\n    }))))), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `The other big upside is all the links I’ve already created in past posts point to valid locations within my headless front end. If someone tries to visit my WordPress backend, the browser redirects to the same requested location on the front end.`), React.createElement(MDXTag, {\n      name: \"h2\",\n      components: components\n    }, `Coming Up`), React.createElement(MDXTag, {\n      name: \"p\",\n      components: components\n    }, `Those redirects happen in my Headless Theme. But wait, why would I have a theme in WordPress if it’s not displaying any content? In my next post, I’ll talk through the details of my `, React.createElement(MDXTag, {\n      name: \"a\",\n      components: components,\n      parentName: \"p\",\n      props: {\n        \"href\": \"https://www.slushman.com/post/headless-theme-for-wordpress\"\n      }\n    }, `Headless WordPress Theme`), ` and why you still need a theme.`));\n  }\n\n}"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/post/editor-links-for-headless-wordpress-themes/","previous":{"id":"40037948-0608-5518-bccf-1a4d116a2f3d","fields":{"slug":"/post/headless-wordpress-create-react-app/"},"frontmatter":{"title":"Headless WordPress and Create React App","gallery":null,"category":["Headless WordPress"]},"code":{"scope":""}},"next":{"id":"a10df82f-415e-598d-90e0-9d2b8136eabd","fields":{"slug":"/post/headless-theme-for-wordpress/"},"frontmatter":{"title":"Headless Theme for WordPress","gallery":null,"category":["Headless WordPress"]},"code":{"scope":""}}}}